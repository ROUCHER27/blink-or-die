# Blink or Die - 干眼症拯救者

一个激进的Chrome浏览器扩展，强制用户眨眼以保护视力。核心理念："如果不眨眼，就别想看清屏幕。"

## 🎯 功能特点

- **实时眨眼检测**：使用AI面部识别技术检测眨眼动作
- **智能倒计时**：15秒未眨眼自动触发视觉惩罚
- **视觉惩罚**：屏幕逐渐模糊、变红，模拟眼睛干涩效果
- **即时恢复**：检测到眨眼后立即恢复清晰视野
- **完全本地运行**：所有计算在浏览器本地完成，保护隐私

## 🚀 快速安装

### 方法1：开发者模式安装（推荐）

1. 下载或克隆本项目到本地
2. 打开Chrome浏览器，输入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹 `/Users/roucher/Documents/blink_or_die`
6. 扩展安装完成！

### 方法2：打包安装

1. 在 `chrome://extensions/` 页面
2. 点击"打包扩展程序"
3. 选择项目根目录
4. 生成 `.crx` 安装文件

## 📖 使用说明

1. **首次启动**：
   - 点击浏览器工具栏的扩展图标
   - 点击"开始"按钮
   - 授权摄像头权限（仅用于眨眼检测）

2. **日常使用**：
   - 扩展会自动在后台运行
   - 15秒未眨眼将触发视觉惩罚
   - 眨眼一次即可立即恢复

3. **停止检测**：
   - 点击扩展图标
   - 点击"停止"按钮

## ⚙️ 技术实现

- **架构**：Chrome Extension Manifest V3
- **AI模型**：MediaPipe Face Landmarker
- **眨眼算法**：EAR (Eye Aspect Ratio) 几何计算
- **视觉特效**：CSS滤镜 + 动画

## 🔧 文件结构

```
blink-or-die/
├── manifest.json          # 扩展配置文件
├── background.js          # 后台服务Worker
├── popup.html            # 扩展弹窗界面
├── popup.js              # 弹窗控制逻辑
├── content/
│   ├── content.js        # 内容脚本（视觉惩罚）
│   └── style.css         # 视觉惩罚样式
├── offscreen/
│   ├── offscreen.html    # 离屏文档（摄像头访问）
│   └── offscreen.js      # 眨眼检测算法
└── icons/                # 扩展图标
    ├── icon16.svg
    ├── icon48.svg
    └── icon128.svg
```

## ⚠️ 注意事项

- **摄像头权限**：扩展需要访问摄像头进行眨眼检测
- **性能影响**：算法在本地运行，CPU占用较低
- **光线要求**：建议在光线充足的环境下使用
- **兼容性**：仅支持Chrome桌面版

## 🎨 视觉效果

### 惩罚模式效果：
- 屏幕逐渐模糊（6px模糊）
- 色调变红（sepia + hue-rotate）
- 亮度降低
- 2秒渐变动画

### 警告提示：
- 右上角显示眨眼提醒
- 红色警告覆盖层
- 动画效果增强紧迫感

## 🔒 隐私保护

- ✅ 所有计算在本地完成
- ✅ 视频流不上传任何服务器
- ✅ 仅用于眨眼检测，不存储图像
- ✅ 可随时停止检测并关闭摄像头

## 🐛 故障排除

**Q: 扩展无法启动检测？**
A: 请检查是否已授权摄像头权限，并确保光线充足

**Q: 眨眼检测不准确？**
A: 调整面部位置，确保整个面部在摄像头视野内

**Q: 惩罚模式无法恢复？**
A: 尝试更明显和完整的眨眼动作

## 📄 开源协议

MIT License - 详见LICENSE文件

## 🙋‍♂️ 联系我们

如有问题或建议，请在GitHub提交Issue

---

**记住：保护眼睛，从眨眼开始！** 👁️✨